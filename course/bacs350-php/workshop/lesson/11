# Lesson 11
* Event Logger
* Date: Fri, 09-14
* by Mark Seaman

![](img/Bear_Logo.png)


### Review
* CRUD Operations
* Testing
* Building Applications
* Subscriber Application

### Next Steps
* Strings
* Logging App



## Strings

### Use single quotes for simple strings

```
'UNC - BACS 350'
```


### String Concatonation
UNC - BACS 350

```
'UNC' . ' - BACS 350'
```


### Use variables
UNC - BACS 350

```
$unc = 'UNC';
$course = 'BACS 350';
$unc . ' - ' . $course
```


### Double quotes for variable expansion
UNC - BACS 350

```

$unc = 'UNC';
$course = 'BACS 350';
"$unc - $course"
```


### Dates - Reading the time
Put current time in a variable

```
$now = time();
```


### Dates - Short Format
* 2018-09-14

```
date('Y-m-d')
```



### Dates - Long Format
* Friday, September 14, 2108

```
date('l, F, d, Y')
```


### Current Time
* 2:30 pm

```
date('g:i a')
```


### Print Current Time
* 2018-09-14 2:30 pm

```
echo date('Y-m-d g:i a');
```


### Read about date formatting
* Murach PHP/MySQL Chapter 10



## Test

### Domain URL
* Define a variable that points to your website


```
$domain = 'my-domain-name';
```


### Page URL
* Define a url for the page to be tested

```
$page = 'project/11.php';
* $url = "$domain/$page";
```


### Test link
* Define an anchor that uses the URL

```
<a href=\"$url\">Visit $url</a>
```


### Validate link
* Define a variable that can validate a page

```
$validator_url = "$validator/nu/?doc=$url";
echo "<a href=\"$validator_url\">Validate Page: $url</a>"
```



## Logger

### Create a new table in subscribers database
* Use SQL statement to create table
* Database: subscribers
* Table: log
* Columns:  id, date, text
* Add one row manually


### Create new project
* Create file 11/index.php
* Build page with header and footer


### Connect to database
* Use database code from Lesson 10
* Require db.php
* Deploy and test


### Show contents of log table
* Create select.db similar to Lesson 10
* Require db.php
* In index.php require select.db
* Show the log events
* Deploy and test


### Add a log record
* Create insert.db similar to Lesson 10
* Insert one record with the current time
* Use "Lesson 11" as "text"
* Deploy and test


### Verify that new records are added
* In insert.php require select.php
* This will show the table after the new row
* Deploy and test


### Develop index.php
* Start with a hyperlink to "insert.php"
* Test that invoking the link adds a record
* Remove the select.php from insert.php
* Require insert.php
* Deploy and test


### Set a variable for the text message
* Set $text = "Page index.php"
* Use $text in insert.php


### Create test page
* Build a test page using the above ideas
* Three links
    - Page
    - Validate
    - HTML Validator


### Submit link for project/11/test.php

![](img/Bear3.png)
