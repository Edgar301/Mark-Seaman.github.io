BACS 350 - Lesson 20

* Files & Directories
* Monday, Oct 8, 2018
* by Mark Seaman

![](img/Bear_Logo.png)


### Review
* Object Oriented Design Pattern


### Next Steps
* Files & Directories



## Caching

### Caching Problem
* Browse to a page
* Get an old version of the page
* Browser thinks to have the latest


### Manual Flushing of Cache
* Shift F5 (Hard Refresh)
* Developer Tools (F12) - "Disable page caching" switch
* Developer Tools (F12) - Empty Cache and Refresh Page


### Add information to HTTP Header
* header("Pragma: no-cache");
* header("Expires: 0");
* header("Cache-Control: no-store, no-cache, must-revalidate");


### Communicate with the browser
* Prevents the caching of pages
* Place header directives into begin_page() template


### Example Code
* [No Cache Code](templates/no-cache.php)



## Files and Directories

### Directory Exists
Is this path a directory?

```
if (is_dir($path)) { echo "Is a Directory"; }
```


### File Exists
Is this path a file?

```
if (is_file($path)) { echo "Is a File"; }
```


### Enumerate Files & Directories
List the contents of this directory

```
$items = scandir($path);
```


### Iterate over files
Walk through the items in directory

```
foreach ($items as $item) {
    echo $path . DIRECTORY_SEPARATOR . $item;
}
```


### Read File
Read the raw text from a file

```
$text = file_get_contents($path);
```


### Display as HTML Text
Encode special HTML characters and HTML Entities

```
$text = htmlspecialchars($text);
```


### Write Text to File
Save text into a file

```
file_put_contents($path, $text);
```


### Source Code Browser
Put all of the parts together

* [Solution 16](https://unco-bacs.org/solution/16)
* Pull changes from Mark-Seaman/BACS_350_2018_Fall
* Edit source code
